#{selenium 'Creating a private event and see if you can see it by the other user'}
	
	clearSession()
	open('/')
	waitForPageToLoad(1000)
	type('username', 'mib')
	type('password', '1337')
	clickAndWait('css=input[type=submit]')
	waitForPageToLoad(1000)
	assertNotTitle('Application error')
	assertTitle('Home')
	assertTextPresent('Calendar Team1 - Hello mib')
	clickAndWait('link=show my calendars')
	waitForPageToLoad(1000)
	assertTextPresent('mib's calendars')
	assertTextPresent('Home')
	assertTextPresent('Log out')
	clickAndWait('link=mib's first calendar')
	waitForPageToLoad(1000)
	assertTextPresent('mib's Calendar: mib's first calendar')
	clickAndWait('link=New Event')
	assertTextPresent('mib's Calendars:')
	assertTextPresent('Adding a new Event')
	assertTextPresent('Name:') 
	assertTextPresent('Start:') 
	assertTextPresent('End:') 
	type('name', 'Private Event')
	type('start', '15/11/2011, 12:00')
	type('end', '15/11/2011, 13:00')
	clickAndWait('css=input[type=submit]')
	assertTextPresent('mib's Calendar: mib's first calendar')
	assertTextPresent('Back')
	assertTextPresent('Home')
	assertTextPresent('Log out')
	clickAndWait('link=Log out')
	assertTextPresent('You have been logged out.')
	assertTitle('Login')
	
	type('username', 'simplay')
	type('password', '123')
	clickAndWait('css=input[type=submit]')
	waitForPageToLoad(1000)
	assertTitle('Home')
	assertTextPresent('Calendar Team1 - Hello simplay')
	clickAndWait('link=mib')
	clickAndWait('link=mib's first calendar')
	assertTextPresent('previous')
	assertTextPresent('next')
	assertTextNotPresent('Private Event')
	clickAndWait('link=Home')
	clickAndWait('link=show my calendars')
	clickAndWait('link=simplay's first calendar')
	clickAndWait('link=New Event')
	assertTextPresent('Adding a new Event')
	assertTextPresent('Name:') 
	assertTextPresent('Start:') 
	assertTextPresent('End:') 
	type('name', 'Public Event')
	type('start', '15/11/2011, 12:00')
	type('end', '15/11/2011, 13:00')
	clickAndWait('css=input[type=submit]')
	clickAndWait('link=15')
	assertTextPresent('Public Event')
	assertTextNotPresent('Private Event')
	
#{/selenium}