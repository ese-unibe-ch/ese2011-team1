*{ You can use plain selenium command using the selenium tag }*

#{selenium 'Check the login page with just a user as login'}
    // Open the home page, and check that no error occured
    
    clearSession()
    open('/')
    waitForPageToLoad(1000)
    assertNotTitle('Application error')
    assertTitle('Login')
	assertTextPresent('Remember me')
	 
	// no user for login
	clickAndWait('css=input[type=submit]')
	assertTextPresent('Oops, unknown username or password.')
	
	//input: a user but no password
	type('username', 'simplay')
	clickAndWait('css=input[type=submit]')
	assertTextPresent('Oops, unknown username or password.')
	
#{/selenium}

#{selenium 'Check the login page with user and password and the log out button'}

	clearSession()
    open('/')
    waitForPageToLoad(1000)
	
	//input: a password but no user
	type('password', '123')
	clickAndWait('css=input[type=submit]')
	assertTextPresent('Oops, unknown username or password.')
	
	//right login
	type('username', 'simplay')
	type('password', '123')
	clickAndWait('css=input[type=submit]')
	waitForPageToLoad(1000)
	assertTitle('Home')
	assertTextPresent('Calendar Team1 - Hello simplay')
	clickAndWait('link=Log out')
	assertTextPresent('You have been logged out.')
	clickAndWait('css=input[type=submit]')
	assertTextPresent('Oops, unknown username or password.')
	

#{/selenium}
	
#{selenium 'Creating a new event and editing it'}
	clearSession()
	open('/')
	waitForPageToLoad(1000)
	type('username', 'simplay')
	type('password', '123')
	clickAndWait('css=input[type=submit]')
	waitForPageToLoad(1000)
	assertTitle('Home')
	assertTextPresent('Calendar Team1 - Hello simplay')
	clickAndWait('link=show my calendars')
	waitForPageToLoad(1000)
	assertTextPresent('simplay's Calendars:')
	assertTextPresent('Home')
	assertTextPresent('Log out')
	clickAndWait('link=simplay's first calendar')
	waitForPageToLoad(1000)
	assertTextPresent('simplay's Calendar: simplay's first calendar:')
	clickAndWait('link=New Event')
	assertTextPresent('simplay's Calendars:')
	assertTextPresent('Adding a new Event')
	assertTextPresent('Name:') 
	assertTextPresent('Start:') 
	assertTextPresent('End:') 
	assertTextPresent('Is Public:')
	type('name', 'Holidays Begin')
	type('start', '23/12/2011, 12:00')
	type('end', '23/10/2011, 13:00')
	check(is_visible)
	clickAndWait('css=input[type=submit]')
	assertTextPresent('simplay's Calendar: simplay's first calendar:')
	assertTextPresent('Back')
	assertTextPresent('Home')
	assertTextPresent('Log out')
	clickAndWait('link=next')
	clickAndWait('link=next')
	waitForPageToLoad(1000)
	clickAndWait('link=23')
	assertTextPresent('Event name:Holidays Begin, from:Fri Dec 23 12:00:00 CET 2011 ,to:Sun Oct 23 13:00:00 CEST 2011 , is_visible:true')
	clickAndWait('link=Edit')
	assertTextPresent('Editing a Event')
	type('end', '23/10/2011, 20:00')
	clickAndWait('css=input[type=submit]')
	assertTextPresent('Month: Dezember 2011')
	assertTextPresent('false')

#{/selenium}
	
#{selenium 'Creating a event with false input'}
	clickAndWait('link=Home')
	assertTextPresent('Administration')
	clickAndWait('link=show my calendars')
	clickAndWait('link=simplay's first calendar')
	assertTextPresent('previous')
	assertTextPresent('next')
	clickAndWait('link=New Event')
	assertTextPresent('Repeatable:')
	type('name', 'Wrong Date')
	type('start', '23/12/9999999')
	type('end', '23/10/2011, 13:00')
	check(is_visible)
	clickAndWait('css=input[type=submit]')
	assertTextPresent('INVALID INPUT: PLEASE TRY AGAIN!')
		
#{/selenium}


#{selenium 'Creating a repetable event (daily)'}
	clickAndWait('link=Home')
	assertTextPresent('Administration')
	clickAndWait('link=show my calendars')
	clickAndWait('link=simplay's first calendar')
	assertTextPresent('previous')
	assertTextPresent('next')
	clickAndWait('link=New Event')
	assertTextPresent('Repeatable:')
	type('name', 'Repetable Event Daily')
	type('start', '24/10/2011, 12:00')
	type('end', '24/10/2011, 13:00')
	select(is_repeated, daily)
	clickAndWait('css=input[type=submit]')
	clickAndWait('link=24')
	assertTextPresent('Repetable Event Daily')
	clickAndWait('link=29')
	assertTextPresent('Repetable Event Daily')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	assertTextPresent('Month: August 2014')
	clickAndWait('link=15')
	assertTextPresent('Repetable Event Daily')
	assertTextPresent('Remove All Repeating')
	clickAndWait('link=Remove All Repeating')
	
#{/selenium}

#{selenium 'Creating a repetable event (weekly)'}
	clickAndWait('link=Home')
	assertTextPresent('Administration')
	clickAndWait('link=show my calendars')
	clickAndWait('link=simplay's first calendar')
	assertTextPresent('previous')
	assertTextPresent('next')
	clickAndWait('link=New Event')
	assertTextPresent('Repeatable:')
	type('name', 'Repetable Event Weekly')
	type('start', '20/10/2011, 12:00')
	type('end', '20/10/2011, 13:00')
	select(is_repeated, weekly)
	clickAndWait('css=input[type=submit]')
	clickAndWait('link=20')
	assertTextPresent('Repetable Event Weekly')
	clickAndWait('link=27')
	assertTextPresent('Repetable Event Weekly')
	clickAndWait('link=next')
	waitForPageToLoad(1000)
	clickAndWait('link=3')
	assertTextPresent('Repetable Event Weekly')
	clickAndWait('link=10')
	assertTextPresent('Repetable Event Weekly')
	clickAndWait('link=17')
	assertTextPresent('Repetable Event Weekly')
	clickAndWait('link=24')
	assertTextPresent('Repetable Event Weekly')
	clickAndWait('link=next')
	waitForPageToLoad(1000)
	clickAndWait('link=1')
	assertTextPresent('Repetable Event Weekly')
	clickAndWait('link=8')
	assertTextPresent('Repetable Event Weekly')
	clickAndWait('link=15')
	assertTextPresent('Repetable Event Weekly')
	clickAndWait('link=22')
	assertTextPresent('Repetable Event Weekly')
	clickAndWait('link=29')
	assertTextPresent('Repetable Event Weekly')
	clickAndWait('link=next')
	waitForPageToLoad(1000)
	clickAndWait('link=5')
	assertTextPresent('Repetable Event Weekly')
	clickAndWait('link=12')
	assertTextPresent('Repetable Event Weekly')
	clickAndWait('link=19')
	assertTextPresent('Repetable Event Weekly')
	clickAndWait('link=26')
	assertTextPresent('Repetable Event Weekly')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	clickAndWait('link=next')
	assertTextPresent('Month: Januar 2013')
	clickAndWait('link=31')
	assertTextPresent('Repetable Event Weekly')
	clickAndWait('link=Remove All Repeating')
	
#{/selenium}



	
	